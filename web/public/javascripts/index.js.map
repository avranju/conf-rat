{"version":3,"sources":["public/javascripts/index.jsx"],"names":[],"mappings":"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","file":"public/javascripts/index.js","sourcesContent":["var Table = ReactBootstrap.Table;\nvar Button = ReactBootstrap.Button;\nvar Glyphicon = ReactBootstrap.Glyphicon;\nvar Popover = ReactBootstrap.Popover;\n\nvar SessionsTable = React.createClass({\n    getInitialState: function() {\n        return {\n            sessions: []\n        };\n    },\n    \n    componentDidMount: function () {\n        $.get(\"/sessions\", function(result) {\n            if(this.isMounted()) {\n                this.setState({\n                    sessions: JSON.parse(result)\n                });\n            }\n        }.bind(this));\n    },\n\n    onRatingChange: function (session) {\n        var rating = $(\"#rating\" + session.id).val();\n        var ratingProgress = $(\"#rating-progress-\" + session.id);\n        ratingProgress.show();\n\n        $.post(\"/session-rating\", {\n            id: session.id,\n            rating: rating\n        }).fail(function () {\n            alert(\"Rating failed.\");\n        }).always(function() {\n            ratingProgress.hide();\n        });\n    },\n\n    render: function() {\n        var rows = this.state.sessions.map(function(session) {\n            var speakerIndex = 0;\n            var lis = session.speakers.map(function(speaker) {\n                return (\n                    <li key={session.id.toString() + '-' + (speakerIndex++)}>\n                        <img src={speaker.pic} />\n                        <p>{speaker.name}</p>\n                    </li>\n                );\n            });\n\n            var rating = 0;\n            if(session.ratings) {\n                rating = session.ratings.map(function(val) {\n                    return parseFloat(val);\n                }).reduce(function(prev, curr) {\n                    return prev + curr;\n                }, 0);\n                rating /= session.ratings.length;\n            }\n\n            return (\n                <tr key={session.id}>\n                    {/*<td>{session.id}</td>*/}\n                    <td>\n                        <h3>{session.title}</h3>\n                        <p>{session.abstract}</p>\n                    </td>\n                    <td>{session.time}</td>\n                    <td>\n                        <ul style={{ listStyleType: 'none', paddingLeft: '0px' }}>\n                            {lis}\n                        </ul>\n                    </td>\n                    <td>\n                        <Rating id={'rating' + session.id} session={session} type=\"number\" onRatingChange={this.onRatingChange} value={rating} />\n                    </td>\n                    {/*<td>\n                        <Button bsStyle=\"primary\" bsSize=\"small\">\n                            <Glyphicon glyph=\"option-horizontal\" />\n                        </Button>\n                    </td>*/}\n                </tr>\n            );\n        }.bind(this));\n\n        return (\n            <Table striped>\n                <thead>\n                    <tr>\n                        {/*<th><h4>ID</h4></th>*/}\n                        <th className=\"col-md-6\"><h3>Title</h3></th>\n                        <th className=\"col-md-2\"><h3>Time</h3></th>\n                        <th className=\"col-md-2\"><h3>Speakers</h3></th>\n                        <th className=\"col-md-2\"><h3>Rating</h3></th>\n                        {\n                        //<th><h4>Comments</h4></th>\n                        }\n                    </tr>\n                </thead>\n                <tbody>\n                {rows}\n                </tbody>\n            </Table>\n        );\n    }\n});\n\nReact.render(<SessionsTable />, document.querySelector(\"#table-container\"));\n"],"sourceRoot":"/source/"}